{"version":3,"sources":["components/SearchForm/SearchForm.jsx","components/ProtectedRoute/ProtectedRoute.jsx","components/Main/Main.jsx","images/me.jpg","components/About/About.jsx","components/Footer/Footer.jsx","images/close.svg","components/PopupWithForm/PopupWithForm.jsx","utils/MainApi.js","components/NewsCard/NewsCard.jsx","components/NewsCardList/NewsCardList.jsx","components/Preloader/Preloader.jsx","images/not-found_v1.svg","components/NotFound/NotFound.jsx","images/logout.svg","images/sawedNewsIcon.svg","components/Navigation/Navigation.jsx","components/Header/Header.jsx","components/SavedNewsHeader/SavedNewsHeader.jsx","components/SavedNews/SavedNews.jsx","contexts/CurrentUserContext.js","utils/NewsApi.js","components/App/App.jsx","index.js"],"names":["SearchForm","props","inputSearchForm","inputRef","React","useRef","onSubmit","e","preventDefault","current","value","className","autoComplete","ref","placeholder","type","ProtectedRoute","children","loggedIn","to","Main","arrKeywords","sawedNews","map","card","keyword","keywords","Set","useState","numberSawedNews","setNumberSawedNews","stringArr","str","toUpperCase","slice","oneKeyword","twoKeyword","keyNumber","length","useEffect","console","log","path","exact","errorInputSearch","userName","About","src","myPhoto","alt","Footer","href","PopupWithForm","pupupRef","document","addEventListener","event","key","close","onClick","evt","contains","target","isOpen","method","action","namePopup","noValidate","closeBtn","title","showBtn","isButtonDisable","titleButton","showOr","onClickRoute","nameRoute","routeClick","MainApi","this","url","response","ok","json","Promise","reject","statusText","name","email","password","fetch","headers","body","JSON","stringify","then","_handleResponse","token","text","source","link","image","date","localStorage","getItem","id","NewsCard","isHover","setIsHover","isHoverBtn","setIsHoverBtn","isClickBtn","setIsClickBtn","mainApi","handleIsHover","handleIsHoverClose","wasSawedArticle","find","c","isLoggedIn","removeCard","article","sawedArticle","update","addingCard","description","urlCard","imageCard","res","catch","err","onPointerLeave","onPointerMove","notLeggedIn","rel","now","Date","getDate","getMonth","getFullYear","NewsCardList","isLoadind","cards","articles","setArticles","setShowBtn","whatever","publishedAt","urlToImage","Preloader","isVisible","textLoading","NotFound","img","noSawedCards","Navigation","redirectSawedNews","click","iconc","handleClick","iconcSawedNews","Header","isClicked","handleSawedNews","onClickOut","loggedInHeader","userNameHeader","SavedNewsHeader","setIsClicked","SavedNews","author","CurrentUserContext","createContext","NewsApi","apiKey","startDate","toISOString","setDate","finishDate","status","App","isLoggedInHeader","setIsLoggedInHeader","renderPage","setRenderPage","sawedCards","setSawedCards","tokenCheck","setCurrentUser","_id","parse","setCards","setStateNewsCardList","getSawedCards","regExpEmail","isLenghtRegisterEmailError","setIsLenghtRegisterEmailError","isLenghtRegisterPasswordError","setIsLenghtRegisterPasswordError","isLenghtRegisterNameError","setIsLenghtRegisterNameError","isButtonRegisterDisable","setIsButtonRegisterDisable","errorRegisterEmail","setErrorRegisterEmail","emailRegister","passwordRegister","nameRegister","formRegisterValues","setFormRegisterValues","handleInputRegisterChange","useCallback","prevState","setIsConflict","isEmaiRegisterlFiled","isPasswordRegisterFiled","isNameRegisterFiled","isEmailRegisterTypeEmail","test","errorAuthEmail","setErrorAuthEmail","setIsButtonDisable","errorPassword","setErrorPassword","isLenghtEmailError","setIsLenghtEmailError","isLenghtPasswordError","setIsLenghtPasswordError","formValues","setFormValues","handleInputChange","setIsSigninErr","isEmailTypeEmail","isEmailFiled","isPasswordFiled","burger","querySelector","authPopupState","setAuthPopupState","registerPopupState","setregisterPopupState","successfulPopupState","setSuccessfulPopupState","currentUser","handleAuthPopupOpen","handleClose","handleOut","clear","classList","add","remove","stateNewsCardList","statePreloader","setStatePreloader","stateNotFound","setStateNotFound","setKeyword","setErrorInputSearch","submitSearchForm","news","request","setItem","finally","isConflict","isSigninErr","getCards","handleRemoveCard","myCard","mySavedArticle","deleteCard","Provider","openAuth","signin","removeItem","onChange","required","minLength","maxLength","signup","String","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ed926e9d.chunk.js","sourcesContent":["import React from 'react'\nimport './SearchForm.css'\n\nfunction SearchForm(props){\n    const { inputSearchForm } = props\n    const inputRef = React.useRef()\n\n    function submitSearchForm(e){\n        e.preventDefault()\n        inputSearchForm(inputRef.current.value)\n    }\n\n    return(\n        <form onSubmit={submitSearchForm} className=\"search__form\">\n            <input autoComplete=\"off\" ref={inputRef} placeholder=\"Введите тему новости\" className=\"search__input\" type=\"text\" />\n            <button type=\"submit\" className=\"search__button\">Искать</button>\n        </form>\n    )\n}\n\nexport default SearchForm;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom'\n\nfunction ProtectedRoute({ children, ...props }) {\n    if (props.loggedIn) {\n        return <Route {...props}>{children}</Route>\n    } else {\n        return <Redirect to='/' />\n    }\n}\n\nexport default ProtectedRoute;","import React from 'react'\nimport './Main.css'\nimport SearchForm from '../SearchForm/SearchForm'\nimport { Route, Switch } from 'react-router-dom'\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute'\n\nfunction Main(props) {\n    const arrKeywords = props.sawedNews.map(card => card = card.keyword);\n    const keywords = [...new Set(arrKeywords)];\n    const [numberSawedNews, setNumberSawedNews] = React.useState(0)\n\n    const sawedArticlesNumber = () => {\n        if (numberSawedNews >= 5 || numberSawedNews === 0) {\n            return 'сохраненных статей';\n          } else if (numberSawedNews > 1 && numberSawedNews < 5) {\n            return 'сохраненные статьи';\n          } else if (numberSawedNews === 1) {\n            return 'сохраненная статья';\n          }\n    }\n\n    const sawedArticleText = () => {\n        if (keywords.length === 1) {\n            return 'По ключевому слову';\n        }\n        if (keywords.length > 1) {\n            return 'По ключевым словам';\n        }\n    }\n\n    function stringArr(str) {\n        if (!str) return str;\n        return str[0].toUpperCase() + str.slice(1);\n    }\n\n    const oneKeyword = stringArr(keywords[0])\n    const twoKeyword = stringArr(keywords[1])\n    const keyNumber = keywords.length - 2\n    const keyDescription = () => {\n        if (keyNumber === 1) {\n            return '-у другому'\n        }\n        if (keyNumber > 1) {\n            return '-м другим'\n        }\n        if (keyNumber > 4) {\n            return '-ю другим'\n        }\n    }\n\n    React.useEffect(() => {\n        console.log(props.numberSawedNews)\n        setNumberSawedNews(props.numberSawedNews)\n    }, [props.loggedIn, props.numberSawedNews])\n\n    return <Switch>\n        <Route path=\"/\" exact>\n            <main className=\"main\">\n                <div className=\"main__page\">\n                    <h2 className=\"main__title\">Что творится в мире?</h2>\n                    <p className=\"main__description\">Находите самые свежие статьи на любую тему и сохраняйте в своём личном кабинете.</p>\n                    <SearchForm inputSearchForm={props.inputSearchForm} />\n                    <span className={props.errorInputSearch ? `input__error input__error_hidden` : `input__error`}>Вы не можете искать пустоту</span>\n                </div>\n            </main>\n        </Route>\n        <ProtectedRoute path=\"/sawed-news\" loggedIn={props.loggedIn}>\n            <main className=\"main__sawed-news\">\n                <div className=\"main__page-sawed-news\">\n                    <h3 className=\"main__sawed-news-subtitle\">Сохранённые статьи</h3>\n                    <h2 className=\"main__title-sawed-news\">{`${props.userName}, у вас ${numberSawedNews} ${sawedArticlesNumber()}`}</h2>\n                    <div className={numberSawedNews > 0 ? `main__sawed-news-box main__sawed-news-box_visible` : `main__sawed-news-box`}>\n                        <p className=\"main__description-sawed-news\">{sawedArticleText()}</p>\n                        <p className=\"main__found-article\">{keywords.length > 1 ? `${oneKeyword}, ${twoKeyword}` : `${oneKeyword}`}<p className=\"main__and\">{keywords.length > 2 ? 'и' : ''}</p>{keywords.length > 2 ? `${keyNumber}${keyDescription()}` : ''}</p>\n                    </div>\n                </div>\n            </main>\n        </ProtectedRoute>\n    </Switch>\n}\n\nexport default Main;","export default __webpack_public_path__ + \"static/media/me.7f0eef95.jpg\";","import React from 'react'\nimport './About.css'\nimport myPhoto from '../../images/me.jpg'\nimport { Route, Switch } from 'react-router-dom'\n\n\nfunction About() {\n    return <Switch>\n        <Route path=\"/\" exact>\n        <section className=\"about\">\n            <img className=\"about__image\" src={myPhoto} alt=\"Фото автора\" />\n            <div className=\"about__box\">\n                <p className=\"about__title\">Об авторе</p>\n                <p className=\"about__description\">Добрый день, меня зовут Павел, я - фронтенд разработчик. Я хорошо умею верстать и знаю: JavaScript, Git, nginx, ionic, cordova, HTML5, CSS3, ООП, React, Webpack, babel, HTTP протокол, express, ES8, ES9, Node.js, NoSQL и MongoDB</p>\n            </div>\n        </section>\n        </Route>\n    </Switch>\n}\n\nexport default About;","import React from 'react'\nimport './Footer.css'\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <h3 className=\"footer__title\">© Pankov Pavel</h3>\n            <div className=\"footer__box\">\n                <div className=\"footer__links\">\n                    <a className=\"footer__route\" href=\"/\">Главная</a>\n                    <a className=\"footer__link\" href=\"https://praktikum.yandex.ru/profile/web/\">Яндекс.Практикум</a>\n                </div>\n                <div className=\"footer__pages\">\n                    <a className=\"footer__git\" href=\"https://github.com/PavelPankov111\" />\n                    <a className=\"footer__fb\" href=\"https://www.facebook.com/pavel.pankov.5203/\" />\n                </div>\n            </div>\n        </footer>\n    )\n}\n\nexport default Footer;","export default __webpack_public_path__ + \"static/media/close.e12c0314.svg\";","import React from 'react'\nimport './PopupWithForm.css'\nimport closeBtn from '../../images/close.svg'\n\nfunction PopupWithForm(props) {\n    const pupupRef = React.useRef(null)\n\n    function handleOverlayClose(evt) {\n        if (pupupRef.current && !pupupRef.current.contains(evt.target)) {\n            props.close();\n        }\n    }\n\n    React.useEffect(() => {\n        function handleCloseEsc(event) {\n            if (event.key === \"Escape\") {\n                props.close()\n            }\n        }\n\n        document.addEventListener('keyup', handleCloseEsc)\n    })\n\n    return (\n        <div onClick={handleOverlayClose} className={`popup ${props.isOpen ? 'popup_opened' : ''} `}>\n            <form ref={pupupRef} onSubmit={props.onSubmit} method=\"get\" action=\"#\" className={`popup${props.namePopup}__form`} noValidate>\n                <button type=\"reset\" className=\"popup__close-btn\" onClick={props.close} >\n                    <img className=\"popup__close-img\" src={closeBtn} alt=\"кнопка закрытия\" />\n                </button>\n                <div className={`popup${props.namePopup}__content`}>\n                    <h3 className={`popup${props.namePopup}__title`}>{props.title}</h3>\n                    {props.children}\n                    {props.showBtn === true ? <button type=\"submit\" className={props.isButtonDisable ? `popup${props.namePopup}__button popup${props.namePopup}__button-disable` : `popup${props.namePopup}__button`}>\n                        {props.titleButton}\n                    </button> : ''}\n                    <div className={`popup${props.namePopup}__author`}>\n                        {props.showOr === true ? <p className={`popup${props.namePopup}__or`}>Или<a onClick={props.onClickRoute} className={`popup${props.namePopup}__route`}>{props.nameRoute}</a></p> : <p onClick={props.routeClick} className={`popup${props.namePopup}__route`} href=\"*\">{props.nameRoute}</p>}\n                    </div>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default PopupWithForm;","class MainApi {\n    constructor() {\n        this.url = 'https://paveldiplom.students.nomoredomains.monster';\n    }\n\n    _handleResponse(response) {\n        if (response.ok) {\n            return response.json();\n        } else {\n            return Promise.reject(response.statusText)\n        }\n    }\n\n    signup(name, email, password) {\n        return fetch(`${this.url}/signup`, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: (\n                JSON.stringify({ name, email, password })\n            )\n        })\n            .then(this._handleResponse)\n    }\n\n    signin(email, password) {\n        return fetch(`${this.url}/signin`, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: (\n                JSON.stringify({ email, password })\n            )\n        })\n            .then(this._handleResponse)\n    }\n\n    tokenCheck(token) {\n        return fetch(`${this.url}/users/me`, {\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${token}`\n            }\n        })\n            .then(this._handleResponse)\n    }\n\n    addingCard(keyword, title, text, source, link, image, date) {\n        return fetch(`${this.url}/articles`, {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('jwt')}`\n            },\n            body: (\n                JSON.stringify({ keyword, title, text, source, link, image, date })\n            )\n        })\n            .then(this._handleResponse)\n    }\n\n    deleteCard(id) {\n        return fetch(`${this.url}/articles/${id}`, {\n            method: 'DELETE',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('jwt')}`\n            },\n        })\n            .then(this._handleResponse)\n    }\n\n    getCards() {\n        return fetch(`${this.url}/articles`, {\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem('jwt')}`\n            },\n        })\n            .then(this._handleResponse)\n    }\n\n}\n\nexport default MainApi;","import React from 'react'\nimport './NewsCard.css'\nimport { Route, Switch } from 'react-router-dom'\nimport MainApi from '../../utils/MainApi'\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\n\nfunction NewsCard(props) {\n    const [isHover, setIsHover] = React.useState(false)\n    const [isHoverBtn, setIsHoverBtn] = React.useState(false)\n    const [isClickBtn, setIsClickBtn] = React.useState(false)\n    const mainApi = new MainApi()\n\n    function handleIsHover() {\n        setIsHover(true)\n        setIsHoverBtn(true)\n    }\n\n    function handleIsHoverClose() {\n        setIsHover(false)\n        setIsHoverBtn(false)\n    }\n\n    function clickBtn() {\n        if (isClickBtn) {\n            setIsClickBtn(false)\n            props.removeCard(props.article, props.sawedArticle)\n            props.update()\n        } else {\n            setIsClickBtn(true)\n            console.log(localStorage.getItem('keyword'))\n            const keyword = props.keyword ? props.keyword : localStorage.getItem('keyword')\n            mainApi.addingCard(keyword, props.title, props.description, props.source, props.urlCard, props.imageCard, props.date)\n                .then((res) => {\n                    console.log(res)\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n            props.update()\n        }\n    }\n\n    function getDate(value) {\n        const now = new Date(value);\n        const month = [\n            \"января\",\n            \"февраля\",\n            \"марта\",\n            \"апреля\",\n            \"мая\",\n            \"июнья\",\n            \"июля\",\n            \"августа\",\n            \"сентября\",\n            \"октября\",\n            \"ноября\",\n            \"декабря\",\n        ];\n\n        const correctDate = `${now.getDate()} ${month[now.getMonth()]}, ${now.getFullYear()}`;\n        return correctDate;\n    }\n\n    function deleteSawedCard(){\n        props.removeCard(props.article, props.sawedArticle)\n    }\n\n    React.useEffect(() => {\n        if(props.sawedNews){\n            const wasSawedArticle = props.sawedNews.find((c) => c.title === props.title)\n            wasSawedArticle ? setIsClickBtn(true) : setIsClickBtn(false)\n        }\n    }, [props.sawedNews])\n\n    return <Switch>\n        <Route path=\"*\" exact>\n            <div className=\"newsCard\">\n                <Route path=\"/\" exact>\n                    {props.isLoggedIn === true ?\n                        <button onClick={clickBtn} onPointerLeave={handleIsHoverClose} onPointerMove={handleIsHover} className=\"newsCard__button\">\n                            {isClickBtn ? <button className='newsCard__button-img newsCard__button-img_click' /> : <button className={isHoverBtn ? `newsCard__button-img newsCard__button-img_hover` : `newsCard__button-img`} />}\n                        </button>\n                        :\n                        <button onClick={props.notLeggedIn} onPointerLeave={handleIsHoverClose} onPointerMove={handleIsHover} className=\"newsCard__button\">\n                            <div className={isHoverBtn ? `newsCard__button-img newsCard__button-img_hover` : `newsCard__button-img`} />\n                            <div className={isHover ? `newsCard__button-hover newsCard__hover_active` : `newsCard__button-hover`}>Войдите, чтобы сохранять статьи</div>\n                        </button>\n                    }\n                </Route>\n                <ProtectedRoute loggedIn={props.isLoggedIn} path=\"/sawed-news\">\n                    <div className=\"newsCard__sawed-news-subtitle\">{props.keyword}</div>\n                    <button onClick={deleteSawedCard} onPointerLeave={handleIsHoverClose} onPointerMove={handleIsHover} className=\"newsCard__button\">\n                        <div className={isHoverBtn ? `newsCard__button-img-sawed-news newsCard__button-img newsCard__button-img_hover newsCard__button-img_hover-sawed-news` : `newsCard__button-img-sawed-news newsCard__button-img`} />\n                        <div className={isHover ? `newsCard__button-hover-sawed-news newsCard__button-hover newsCard__hover_active` : `newsCard__button-hover-sawed-news newsCard__button-hover`}>Убрать из сохранённых</div>\n                    </button>\n                </ProtectedRoute>\n                <a className=\"newsCard__link\" href={props.urlCard} target=\"_blank\" rel=\"noreferrer\">\n                    <div className=\"newsCard__image\">\n                        <img className=\"newsCard__img\" src={props.imageCard} alt=\"фотография не загрузилась :(\" />\n                    </div>\n                    <div className=\"newsCard__content\">\n                        <h4 className=\"newsCard__content-date\">{getDate(props.date)}</h4>\n                        <h2 className=\"newsCard__content-title\">{props.title}</h2>\n                        <p className=\"newsCard__content-description\">{props.description}</p>\n                        <p className=\"newsCard__content__author\">{props.source}</p>\n                    </div>\n                </a>\n            </div>\n        </Route>\n    </Switch>\n}\n\nexport default NewsCard;","import React from 'react'\nimport './NewsCardList.css'\nimport NewsCard from '../NewsCard/NewsCard'\n\nfunction NewsCardList(props) {\n    const { isLoadind, cards } = props\n    const [articles, setArticles] = React.useState(cards)\n    const [showBtn, setShowBtn] = React.useState(false)\n\n    React.useEffect(() => {\n        console.log(cards)\n        setArticles(cards.slice(0, 3))\n        if (cards.length > 3) {\n            setShowBtn(true)\n        } else{\n            setShowBtn(false)\n        }\n    }, [isLoadind, cards])\n\n    function handleClick() {\n        setArticles(cards.slice(0, articles.length + 3))\n    }\n\n    return (\n        <section className={isLoadind ? `newsCardList newsCardList_disable` : `newsCardList`}>\n            <h2 className=\"newsCardList__title\">Результаты поиска</h2>\n            <div className=\"newsCardList__items\">\n                {articles.map((whatever, key) =>  <NewsCard notLeggedIn={props.notLeggedIn} key={key} article={whatever} sawedNews={props.sawedNews} update={props.update} removeCard={props.removeCard} urlCard={whatever.url} source={whatever.source.name} description={whatever.description} title={whatever.title} date={whatever.publishedAt} keyword={props.keyword} imageCard={whatever.urlToImage} isLoggedIn={props.isLoggedIn} />)}\n            </div>\n            <button onClick={handleClick} className={showBtn ? `newsCardList__button newsCardList__button_visible` : `newsCardList__button`}>\n                Показать еще\n        </button>\n        </section>\n    )\n}\n\nexport default NewsCardList;","import React from 'react'\nimport './Preloader.css'\n\nfunction Preloader(props) {\n    return (\n        <div className={props.isVisible? `preloader` : `preloader__hidden`}>    \n            <i className=\"preloader__icon\"></i>\n            <p className=\"preloader__text\">{props.textLoading}</p> \n        </div>\n\n    )\n}\n\nexport default Preloader;","export default __webpack_public_path__ + \"static/media/not-found_v1.8fabc218.svg\";","import React from 'react'\nimport './NotFound.css'\nimport img from '../../images/not-found_v1.svg'\n\nfunction NotFound(props) {\n    return(\n        <div className={props.isVisible ? `notFound` : `notFound notFound__disable`}>\n            <img className=\"notFound__image\" src={img} alt=\"ничего не найдено\"/>\n            <h2 className=\"notFound__title\">{props.noSawedCards ? `У вас пока нет сохраненых статей` : `Ничего не найдено`}</h2>\n            <p className=\"notFound__description\">{props.noSawedCards ? `` : `К сожалению по вашему запросу ничего не найдено.`} </p>\n        </div>\n    )\n}\n\nexport default NotFound;","export default __webpack_public_path__ + \"static/media/logout.96d43996.svg\";","export default __webpack_public_path__ + \"static/media/sawedNewsIcon.7df208de.svg\";","import React from 'react'\nimport './Navigation.css'\nimport { Link, Route, Switch } from 'react-router-dom'\nimport iconc from '../../images/logout.svg'\nimport iconcSawedNews from '../../images/sawedNewsIcon.svg'\n\nfunction Navigation(props) {\n    return <Switch>\n        <Route path=\"/\" exact>\n            {props.loggedIn ?\n                <div className=\"navigation__descriptions-sawed-news\">\n                    <Link to=\"/\" className=\"navigation__main-page\">Главная</Link>\n                    <Link to=\"/sawed-news\" onClick={props.redirectSawedNews} className=\"navigation__sawed-news\">Сохранённые статьи</Link>\n                    <Link to=\"/\" onClick={props.click} className=\"navigation__sawed-box-light navigation__sawed-box\">\n                        <p className=\"navigation__sawed-exit_light navigation__sawed-exit\">{props.userName}</p>\n                        <img className=\"navigation__sawed-image\" src={iconc} alt=\"кнопка выхода\" />\n                    </Link>\n                </div>\n                :\n                <div className=\"navigation__descriptions\">\n                    <Link to=\"/\" className=\"navigation__main-page\">Главная</Link>\n                    <p onClick={props.handleClick} className=\"navigation__auth\">Авторизоваться</p>\n                </div>\n            }</Route>\n        <Route path=\"/sawed-news\">\n            <div className=\"navigation__descriptions-sawed-news\">\n                <Link to=\"/\" className=\"navigation__main-page_active\">Главная</Link>\n                <Link to=\"/sawed-news\" onClick={props.redirectSawedNews} className=\"navigation__sawed-news_active\">Сохранённые статьи</Link>\n                <Link to=\"/\" onClick={props.click} className=\"navigation__sawed-box\">\n                    <p className=\"navigation__sawed-exit\">{props.userName}</p>\n                    <img className=\"navigation__sawed-image\" src={iconcSawedNews} alt=\"кнопка выхода\" />\n                </Link>\n            </div>\n        </Route>\n    </Switch>\n}\n\nexport default Navigation;","import React from 'react'\nimport Navigation from '../Navigation/Navigation'\nimport './Header.css'\nimport { Route, Switch, Link } from 'react-router-dom'\nimport iconc from '../../images/logout.svg'\n\nfunction Header(props) {\n    return <Switch>\n        <Route path=\"*\" exact>\n            <header className={props.isClicked ? `header header_static` : 'header'}>\n                <h1 className=\"header__title\">NewsExplorer</h1>\n                <Navigation redirectSawedNews={props.handleSawedNews} click={props.onClickOut} handleClick={props.onClick} loggedIn={props.loggedInHeader} userName={props.userNameHeader} />\n                <div onClick={props.handleClick} className={props.isClicked ? `header__mobile header__mobile_active` : `header__mobile`}>\n                    <div className={props.isClicked ? `header__mobile-popup header__mobile-popup_active` : `header__mobile-popup`}> \n                     <div className={props.isClicked ? `header__mobile-container header__mobile-container_active` : `header__mobile-container`}></div>\n                        <div className={props.isClicked ? `header__mobile-box header__mobile-box_active` : `header__mobile-box`}>\n                            <div className=\"header__mobile-content\">\n                                <Link className=\"header__mobile-main-page\" to=\"/\">Главная</Link>\n                                {props.loggedInHeader ?\n                                    <Link className=\"header__mobile-sawed-news\" to=\"/sawed-news\">Сохраненные статьи</Link>\n                                    : ''}\n                                {props.loggedInHeader ?\n                                    <Link to=\"/\" onClick={props.onClickOut} className=\"navigation__sawed-box-light navigation__sawed-box\">\n                                        <p className=\"navigation__sawed-exit navigation__sawed-exit_light\">{props.userNameHeader}</p>\n                                        <img className=\"navigation__sawed-image\" src={iconc} alt=\"кнопка выхода\" />\n                                    </Link>\n                                    :\n                                    <p onClick={props.onClick} className=\"navigation__auth\">Авторизоваться</p>\n                                }\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n            </header>\n        </Route>\n    </Switch>\n}\n\nexport default Header;","import React from 'react'\nimport Navigation from '../Navigation/Navigation'\nimport './SavedNewsHeader.css'\nimport { Route, Switch, Link } from 'react-router-dom'\nimport iconc from '../../images/logout.svg'\n\nfunction SavedNewsHeader(props) {\n    const [isClicked, setIsClicked] = React.useState(false)\n\n    function handleClick() {\n        if (isClicked === true) {\n            setIsClicked(false)\n        } else {\n            setIsClicked(true)\n        }\n    }\n    return <Switch>\n        <Route path=\"*\" exact>\n        <header className=\"header header__sawed-news\">\n            <h1 className={isClicked ? `header__title header__title-sawed-news header__title_white` : `header__title-sawed-news`}>NewsExplorer</h1>\n            <Navigation click={props.onClickOut} handleClick={props.onClick} loggedIn={props.loggedInHeader} userName={props.userNameHeader} />\n            <div onClick={handleClick} className={isClicked ? `header__mobile header__mobile_white header__mobile_active header__mobile_white_active` : `header__mobile header__mobile_white`}>\n                    <div className={isClicked ? `header__mobile-popup header__mobile-popup_active` : `header__mobile-popup`}> \n                     <div className={isClicked ? `header__mobile-container header__mobile-container_active` : `header__mobile-container`}></div>\n                        <div className={isClicked ? `header__mobile-box header__mobile-box_active` : `header__mobile-box`}>\n                            <div className=\"header__mobile-content\">\n                                <Link className=\"header__mobile-main-page\" to=\"/\">Главная</Link>\n                                {props.loggedInHeader ?\n                                    <Link className=\"header__mobile-sawed-news\" to=\"/sawed-news\">Сохраненные статьи</Link>\n                                    : ''}\n                                {props.loggedInHeader ?\n                                    <Link to=\"/\" onClick={props.onClickOut} className=\"navigation__sawed-box-light navigation__sawed-box\">\n                                        <p className=\"navigation__sawed-exit navigation__sawed-exit_light\">{props.userNameHeader}</p>\n                                        <img className=\"navigation__sawed-image\" src={iconc} alt=\"кнопка выхода\" />\n                                    </Link>\n                                    :\n                                    <p onClick={props.onClick} className=\"navigation__auth\">Авторизоваться</p>\n                                }\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n        </header>\n        </Route>\n    </Switch>\n}\n\nexport default SavedNewsHeader;","import React from 'react'\nimport NewsCard from '../NewsCard/NewsCard'\nimport '../NewsCardList/NewsCardList.css'\n\nfunction SavedNews(props) {\n    const { cards } = props\n\n    return (\n        <section className={props.isLoadind ? `newsCardList newsCardList_disable` : `newsCardList`}>\n            <div className=\"newsCardList__items\">\n                {cards.map((whatever, key) => <NewsCard keyword={whatever.keyword} key={key} removeCard={props.removeCard} sawedArticle={whatever} urlCard={whatever.link} source={whatever.source} description={whatever.text} title={whatever.title} date={whatever.date} author={whatever.author} imageCard={whatever.image} isLoggedIn={props.isLoggedIn} />)}\n            </div>\n        </section>\n    )\n}\n\nexport default SavedNews;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","class NewsApi {\n    constructor() {\n        this.url = 'https://nomoreparties.co/news/v2/everything?';\n        this.apiKey = '0afc2eada6d242128695911a777854c8'\n    }\n\n    request(keyword) {\n        const now = new Date();\n        const startDate = now.toISOString().slice(0, 10);\n        now.setDate(now.getDate() - 7);\n        const finishDate = now.toISOString().slice(0, 10);\n\n        return fetch(`${this.url}q=${keyword}&apiKey=${this.apiKey}&from=${finishDate}&to=${startDate}&sortBy=publishedAt&pageSize=100`, {\n            method: 'GET',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n        })\n            .then((res) => {\n                if (res.status === 200) {\n                    return res.json();\n                }\n                return Promise.reject(`Error: ${res.status}`);\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n    }\n}\n\nexport default NewsApi;","import React from 'react'\nimport Main from '../Main/Main'\nimport './App.css'\nimport About from '../About/About'\nimport Footer from '../Footer/Footer'\nimport '../../fonts/roboto/roboto.css'\nimport '../../fonts/roboto-slab/robotoslab.css'\nimport '../../fonts/source_sans_pro/source_sans_pro.css'\nimport PopupWithForm from '../PopupWithForm/PopupWithForm'\nimport NewsCardList from '../NewsCardList/NewsCardList'\nimport Preloader from '../Preloader/Preloader'\nimport NotFound from '../NotFound/NotFound'\nimport Header from '../Header/Header'\nimport { Route, Switch } from 'react-router-dom'\nimport SavedNewsHeader from '../SavedNewsHeader/SavedNewsHeader'\nimport SavedNews from '../SavedNews/SavedNews'\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext'\nimport NewsApi from '../../utils/NewsApi'\nimport MainApi from '../../utils/MainApi'\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute'\n\nfunction App() {\n    const mainApi = new MainApi()\n    const [isLoggedInHeader, setIsLoggedInHeader] = React.useState(false)\n    const [renderPage, setRenderPage] = React.useState(false)\n    const [sawedCards, setSawedCards] = React.useState([])\n    const [numberSawedNews, setNumberSawedNews] = React.useState(0)\n\n    React.useEffect(() => {\n        if (localStorage.getItem('jwt')) {\n            setIsLoggedInHeader(true)\n            mainApi.tokenCheck(localStorage.getItem('jwt'))\n                .then((res) => {\n                    setCurrentUser({\n                        name: res.name,\n                        email: res.email,\n                        id: res._id\n                    })\n                })\n                .catch((err) => {\n                    console.log(err)\n                    setIsLoggedInHeader(false)\n                })\n        } else {\n            setIsLoggedInHeader(false)\n        }\n\n        setRenderPage(true)\n        if (localStorage.getItem('articles')) {\n            console.log(JSON.parse(localStorage.getItem('articles')))\n            setCards(JSON.parse(localStorage.getItem('articles')))\n            setStateNewsCardList(false)\n        } else {\n            setCards([])\n            setStateNewsCardList(true)\n        }\n\n        getSawedCards()\n        setNumberSawedNews(sawedCards.length)\n    }, [isLoggedInHeader])\n\n    React.useEffect(() => {\n        getSawedCards()\n        setNumberSawedNews(sawedCards.length)\n    }, [sawedCards])\n\n    const regExpEmail = /^([a-z0-9_-]+\\.)*[a-z0-9_-]+@[a-z0-9_-]+(\\.[a-z0-9_-]+)*\\.[a-z]{2,6}$/\n\n    // Register validation\n    const [isLenghtRegisterEmailError, setIsLenghtRegisterEmailError] = React.useState(false)\n    const [isLenghtRegisterPasswordError, setIsLenghtRegisterPasswordError] = React.useState(false)\n    const [isLenghtRegisterNameError, setIsLenghtRegisterNameError] = React.useState(false)\n    const [isButtonRegisterDisable, setIsButtonRegisterDisable] = React.useState(true)\n\n    const [errorRegisterEmail, setErrorRegisterEmail] = React.useState(false)\n    const [formRegisterValues, setFormRegisterValues] = React.useState({\n        emailRegister: '',\n        passwordRegister: '',\n        nameRegister: ''\n    })\n\n    const handleInputRegisterChange = React.useCallback((e) => {\n        const { name, value } = e.target;\n        setFormRegisterValues(prevState => ({ ...prevState, [name]: value }))\n        setIsConflict(false)\n    }, [setFormRegisterValues])\n\n    React.useEffect(function () {\n        const isEmaiRegisterlFiled = formRegisterValues.emailRegister.length > 4\n        const isPasswordRegisterFiled = formRegisterValues.passwordRegister.length > 7\n        const isNameRegisterFiled = formRegisterValues.nameRegister.length > 1\n        const isEmailRegisterTypeEmail = regExpEmail.test(formRegisterValues.emailRegister)\n\n        if (isEmailRegisterTypeEmail) {\n            setErrorRegisterEmail(false)\n        } else {\n            setErrorRegisterEmail(true)\n        }\n\n        if (isEmaiRegisterlFiled) {\n            setIsLenghtRegisterEmailError(false)\n        } else {\n            setIsLenghtRegisterEmailError(true)\n        }\n\n        if (isPasswordRegisterFiled) {\n            setIsLenghtRegisterPasswordError(false)\n        } else {\n            setIsLenghtRegisterPasswordError(true)\n        }\n\n        if (isNameRegisterFiled) {\n            setIsLenghtRegisterNameError(false)\n        } else {\n            setIsLenghtRegisterNameError(true)\n        }\n\n        if (errorRegisterEmail === false && isLenghtRegisterPasswordError === false && isLenghtRegisterNameError === false) {\n            setIsButtonRegisterDisable(false)\n        } else {\n            setIsButtonRegisterDisable(true)\n        }\n\n        if (formRegisterValues.emailRegister.length === 0) {\n            setIsButtonRegisterDisable(true)\n            setErrorRegisterEmail(false)\n        }\n\n        if (formRegisterValues.passwordRegister.length === 0) {\n            setIsButtonRegisterDisable(true)\n            setIsLenghtRegisterPasswordError(false)\n        }\n\n        if (formRegisterValues.nameRegister.length === 0) {\n            setIsButtonRegisterDisable(true)\n            setIsLenghtRegisterNameError(false)\n        }\n\n    }, [formRegisterValues, regExpEmail, errorRegisterEmail, isLenghtRegisterPasswordError, isLenghtRegisterNameError])\n\n    // Auth validation\n    const [errorAuthEmail, setErrorAuthEmail] = React.useState(false)\n    const [isButtonDisable, setIsButtonDisable] = React.useState(true)\n    const [errorPassword, setErrorPassword] = React.useState(false)\n    const [isLenghtEmailError, setIsLenghtEmailError] = React.useState(false)\n    const [isLenghtPasswordError, setIsLenghtPasswordError] = React.useState(false)\n    const [formValues, setFormValues] = React.useState({\n        email: '',\n        password: '',\n    })\n\n    const handleInputChange = React.useCallback((event) => {\n        const { name, value } = event.target;\n        setFormValues(prevState => ({ ...prevState, [name]: value }))\n        setIsSigninErr(false)\n    }, [setFormValues])\n\n    React.useEffect(function validationInputs() {\n        const isEmailTypeEmail = regExpEmail.test(formValues.email)\n        const isEmailFiled = formValues.email.length > 4\n        const isPasswordFiled = formValues.password.length > 7\n\n        if (isEmailTypeEmail) {\n            setErrorAuthEmail(false)\n        } else {\n            setErrorAuthEmail(true)\n        }\n\n        if (isEmailFiled) {\n            setIsLenghtEmailError(false)\n        } else {\n            setIsLenghtEmailError(true)\n        }\n\n        if (isPasswordFiled) {\n            setErrorPassword(false)\n            setErrorPassword(false)\n        } else {\n            setIsLenghtPasswordError(true)\n            setErrorPassword(true)\n        }\n\n        if (errorAuthEmail === false && errorPassword === false) {\n            setIsButtonDisable(false)\n        } else {\n            setIsButtonDisable(true)\n        }\n\n        if (formValues.password.length === 0) {\n            setIsButtonDisable(true)\n            setErrorPassword(false)\n        }\n\n        if (formValues.email.length === 0) {\n            setErrorAuthEmail(false)\n            setIsButtonDisable(true)\n        }\n\n    }, [formValues, errorAuthEmail, errorPassword, regExpEmail])\n\n    function clearInputs() {\n        setFormValues({\n            email: '',\n            password: ''\n        });\n        setFormRegisterValues({\n            emailRegister: '',\n            passwordRegister: '',\n            nameRegister: ''\n        })\n    }\n\n    const { email, password } = formValues\n    const { emailRegister, passwordRegister, nameRegister } = formRegisterValues\n\n    const burger = document.querySelector('.header__mobile')\n    const [authPopupState, setAuthPopupState] = React.useState(false)\n    const [registerPopupState, setregisterPopupState] = React.useState(false)\n    const [successfulPopupState, setSuccessfulPopupState] = React.useState(false)\n    const [isClicked, setIsClicked] = React.useState(false)\n    const [currentUser, setCurrentUser] = React.useState({\n        name: 'Имя',\n        email: '',\n        id: ''\n    });\n\n    function handleAuthPopupOpen() {\n        setAuthPopupState(true)\n        setErrorAuthEmail(false)\n        setErrorPassword(false)\n        setIsButtonDisable(true)\n    }\n\n    function handleClose() {\n        setAuthPopupState(false)\n        setregisterPopupState(false)\n        setSuccessfulPopupState(false)\n        clearInputs()\n    }\n\n    function handleRegisterPopupOpen() {\n        setAuthPopupState(false)\n        setregisterPopupState(true)\n    }\n\n    function handleRegisterRote() {\n        setregisterPopupState(false)\n        setAuthPopupState(true)\n    }\n\n    function handleSuccessfulPopupState() {\n        setSuccessfulPopupState(false)\n        setAuthPopupState(true)\n    }\n\n    function handleOut() {\n        setIsLoggedInHeader(false)\n        setCurrentUser({\n            name: '',\n            email: '',\n            password: ''\n        })\n        localStorage.clear()\n    }\n\n    React.useEffect(() => {\n        if (authPopupState || registerPopupState || successfulPopupState) {\n            if (burger !== null) {\n                burger.classList.add('header__mobile-popup_hidden')\n            }\n        } else {\n            if (burger !== null) {\n                burger.classList.remove('header__mobile-popup_hidden')\n            }\n        }\n    })\n\n    function handleClick() {\n        if (isClicked === true) {\n            setIsClicked(false)\n        } else {\n            setIsClicked(true)\n        }\n    }\n\n    const [stateNewsCardList, setStateNewsCardList] = React.useState(true)\n    const [statePreloader, setStatePreloader] = React.useState(false)\n    const [stateNotFound, setStateNotFound] = React.useState(false)\n    const [cards, setCards] = React.useState([])\n    const [keyword, setKeyword] = React.useState('')\n    const [errorInputSearch, setErrorInputSearch] = React.useState(true)\n\n    function submitSearchForm(value) {\n        if (value !== '') {\n            setErrorInputSearch(true)\n            const news = new NewsApi()\n            setStatePreloader(true)\n            setStateNotFound(false)\n            setStateNewsCardList(true)\n            news.request(value)\n                .then((cards) => {\n                    localStorage.setItem('keyword', value)\n                    localStorage.setItem('articles', JSON.stringify(cards.articles))\n                    setKeyword(value)\n                    setCards(cards.articles)\n                    setStateNewsCardList(false)\n                    if (cards.articles.length === 0) {\n                        setStateNotFound(true)\n                        setStateNewsCardList(true)\n                    }\n                })\n                .catch((err) => {\n                    console.log(err)\n                    setStateNotFound(true)\n                })\n                .finally(() => {\n                    setStatePreloader(false)\n                })\n        } else {\n            setErrorInputSearch(false)\n        }\n    }\n\n    const [isConflict, setIsConflict] = React.useState(false)\n    const [isSigninErr, setIsSigninErr] = React.useState(false)\n\n    function register(e) {\n        e.preventDefault()\n        mainApi.signup(nameRegister, emailRegister, passwordRegister)\n            .then(() => {\n                handleClose()\n                setSuccessfulPopupState(true)\n                localStorage.setItem('name', nameRegister)\n            })\n            .catch((err) => {\n                const errStr = String(err)\n                if (errStr === 'Conflict') {\n                    setIsConflict(true)\n                }\n            })\n    }\n\n    function signin(e) {\n        e.preventDefault()\n        mainApi.signin(email, password)\n            .then((token) => {\n                if (token.token) {\n                    handleClose()\n                    localStorage.removeItem('articles')\n                    localStorage.setItem('jwt', token.token)\n                    setCurrentUser({\n                        name: localStorage.getItem('name'),\n                        email: email,\n                        password: password\n                    })\n                    setIsLoggedInHeader(true)\n                } else {\n                    setIsSigninErr(true)\n                }\n            })\n            .catch((err) => {\n                console.log(err)\n                setIsSigninErr(true)\n            })\n    }\n\n    function getSawedCards() {\n        if (isLoggedInHeader) {\n            mainApi.getCards()\n                .then((cards) => {\n                    setSawedCards(cards)\n                    setNumberSawedNews(sawedCards.length)\n                })\n                .catch((err) => {\n                    console.log(err)\n                })\n        }\n    }\n\n    function deleteArticle(id) {\n        mainApi.deleteCard(id)\n            .then((res) => {\n                console.log(res)\n\n            })\n            .catch((err) => {\n                console.log(err)\n            })\n    }\n\n    function handleRemoveCard(card, myCard) {\n        const mySavedArticle = sawedCards.find((c) => {\n            if (myCard) {\n                return c.title === myCard.title && c.text === myCard.text;\n            }\n\n            if (card) {\n                return c.title === card.title && c.text === card.description;\n            }\n        });\n\n        if (mySavedArticle) {\n            deleteArticle(mySavedArticle._id)\n        }\n    }\n\n    React.useEffect(() => {\n        getSawedCards()\n    }, [isLoggedInHeader])\n\n    return <Switch>\n        <Route exact path=\"*\">\n            <CurrentUserContext.Provider value={currentUser}>\n                <section className=\"page\">\n                    {renderPage ?\n                        <ProtectedRoute openAuth={handleAuthPopupOpen} path=\"/sawed-news\" loggedIn={isLoggedInHeader}>\n                            <SavedNewsHeader onClickOut={handleOut} onClick={handleAuthPopupOpen} loggedInHeader={isLoggedInHeader} userNameHeader={currentUser.name} />\n                            <Main sawedNews={sawedCards} loggedIn={isLoggedInHeader} inputSearchForm={submitSearchForm} userName={currentUser.name} numberSawedNews={numberSawedNews} />\n                            {sawedCards.length === 0 ?\n                                <NotFound noSawedCards={true} isVisible={true} />\n                                :\n                                <SavedNews removeCard={handleRemoveCard} keyword={keyword} cards={sawedCards} isLoggedIn={isLoggedInHeader} />\n                            }\n                        </ProtectedRoute>\n                        : ''}\n                    <Route path=\"/\" exact>\n                        <Header handleClick={handleClick} isClicked={isClicked} onClickOut={handleOut} onClick={handleAuthPopupOpen} loggedInHeader={isLoggedInHeader} userNameHeader={currentUser.name} />\n                        <Main sawedNews={sawedCards} errorInputSearch={errorInputSearch} loggedIn={isLoggedInHeader} inputSearchForm={submitSearchForm} userName={currentUser.name} numberSawedNews={numberSawedNews} />\n                        <NewsCardList notLeggedIn={handleAuthPopupOpen} sawedNews={sawedCards} update={getSawedCards} removeCard={handleRemoveCard} keyword={keyword} cards={cards} isLoggedIn={isLoggedInHeader} isLoadind={stateNewsCardList} />\n                    </Route>\n                    <Preloader isVisible={statePreloader} textLoading=\"Идет поиск новостей..\" />\n                    <NotFound noSawedCards={false} isVisible={stateNotFound} />\n                    <About />\n                    <PopupWithForm onSubmit={signin} isButtonDisable={isButtonDisable} onClickRoute={handleRegisterPopupOpen} close={handleClose} showBtn={true} showOr={true} isOpen={authPopupState} namePopup=\"-auth\" title=\"Вход\" titleButton=\"Войти\" nameRoute=\"Зарегестрироваться\">\n                        <div className=\"popup-auth__box\">\n                            <span className=\"popup-auth__email-name\">Email</span>\n                            <input autoComplete=\"true\" name=\"email\" value={email} onChange={handleInputChange} placeholder=\"Введите почту\" className=\"popup__input popup-auth__email\" type=\"email\" required minLength=\"5\" maxLength=\"60\" />\n                            <span className={errorAuthEmail ? `popup-auth__email-error popup-auth__email-error_visible` : `popup-auth__email-error`}>{isLenghtEmailError ? 'Минимальное количество символов - 5' : 'Неправильный формат email'}</span>\n                            <span className=\"popup-auth__password-name\">Пароль</span>\n                            <input autoComplete=\"true\" name=\"password\" value={password} onChange={handleInputChange} className=\"popup__input popup-auth__password\" placeholder=\"Введите пароль\" type=\"password\" required minLength=\"8\" maxLength=\"60\" />\n                            <span className={errorPassword ? `popup-auth__password-error popup-auth__password-error_visible` : `popup-auth__password-error`}>{isLenghtPasswordError ? 'Минимальное количество символов - 8' : 'Неправильный пароль'}</span>\n                        </div>\n                        <span className={isSigninErr ? `popup-register__сonflict-error popup-register__сonflict-error_visible` : `popup-register__сonflict-error`}>Неправильный email или пароль</span>\n                    </PopupWithForm>\n                    <PopupWithForm onSubmit={register} isButtonDisable={isButtonRegisterDisable} onClickRoute={handleRegisterRote} close={handleClose} showBtn={true} showOr={true} isOpen={registerPopupState} namePopup=\"-register\" title=\"Регистрация\" titleButton=\"Зарегестрироваться\" nameRoute=\"Войти\">\n                        <div className=\"popup-register__box\">\n                            <span className=\"popup-register__email-name\">Email</span>\n                            <input autoComplete=\"true\" name=\"emailRegister\" value={emailRegister} onChange={handleInputRegisterChange} placeholder=\"Введите почту\" className=\"popup__input popup-register__email\" type=\"email\" required minLength=\"5\" maxLength=\"60\" />\n                            <span className={errorRegisterEmail ? `popup-register__email-error popup-register__email-error_visible` : `popup-register__email-error`}>{isLenghtRegisterEmailError ? `Минимальное количество символов - 5` : 'Неправильный формат email'} </span>\n                            <span className=\"popup-register__password-name\">Пароль</span>\n                            <input value={passwordRegister} name=\"passwordRegister\" onChange={handleInputRegisterChange} className=\"popup__input popup-register__password\" placeholder=\"Введите пароль\" type=\"password\" required minLength=\"8\" maxLength=\"60\" />\n                            <span className={isLenghtRegisterPasswordError ? `popup-register__password-error popup-register__password-error_visible` : 'popup-register__password-error'}>Минимальное количество символов - 8</span>\n                            <span className=\"popup-register__name-name\">Имя</span>\n                            <input value={nameRegister} name=\"nameRegister\" onChange={handleInputRegisterChange} className=\"popup__input popup-register__name\" placeholder=\"Введите своё имя\" type=\"text\" minLength=\"2\" maxLength=\"40\" required />\n                            <span className={isLenghtRegisterNameError ? `popup-register__name-error popup-register__name-error_visible` : 'popup-register__name-error'}>Минимальное количество символов - 2</span>\n                        </div>\n                        <span className={isConflict ? `popup-register__submit-error popup-register__submit-error_visible` : `popup-register__submit-error`}>Такой пользователь уже есть</span>\n                    </PopupWithForm>\n                    <PopupWithForm close={handleClose} routeClick={handleSuccessfulPopupState} showBtn={false} showOr={false} isOpen={successfulPopupState} namePopup=\"-successful\" title=\"Пользователь успешно зарегистрирован!\" nameRoute=\"Войти\" />\n                    <Footer />\n                </section>\n            </CurrentUserContext.Provider>\n        </Route>\n    </Switch>\n\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App.jsx';\nimport { BrowserRouter} from 'react-router-dom'\n\nReactDOM.render(\n  <BrowserRouter>\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}